<div cg-busy="myPromise"></div>
<!-- Button trigger modal -->

<div id="verifyOTPContent">
    <div class="modal fade" tabindex="-1" role="dialog" id="verifyOTPModal" ng-keydown="$event.which === 13 && verifyOTP()">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" ng-click="close()" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title">Enter One Time Password</h4>
                </div>
                <div class="modal-body">
                    <div class="row">
                        <form name="formVerifyOTP" class="form-horizontal col-sm-offset-3 col-sm-6" novalidate>
                            <div class="alert alert-danger" role="alert" ng-show="showAlert">
                                <button type="button" class="close" ng-click="showAlert = false" aria-hidden="true">&times;</button>
                                {{alertMessage}}
                            </div>
                            <div class="alert alert-success" ng-show="!showAlert">
                                {{alertMessage}}
                            </div>
                            <!--Mobile Number Section-->
                            <div class="form-group" ng-class="{ 'has-error': formVerifyOTP.inputOTP.$touched && formVerifyOTP.inputOTP.$invalid }">
                                <div class="input-group col-sm-12">
                                    <input name="inputOTP" type="number" min="0" class="form-control input-lg" 
                                           id="inputOTP" placeholder="Enter OTP" ng-model="otp"
                                           ng-minlength="6" ng-maxlength="6" required />

                                </div>
                                <div class="help-block" ng-messages="formVerifyOTP.inputOTP.$error" ng-if="formVerifyOTP.inputOTP.$touched">
                                    <p ng-message="minlength">Please enter valid OTP!</p>
                                    <p ng-message="maxlength">Please enter valid OTP!</p>
                                    <p ng-message="required">OTP is mandatory!</p>
                                </div>
                            </div>
                            <!--Submit Button-->
                            <div class="form-group">
                                <div>
                                    <button type="submit" ng-click="verifyOTP()" class="btn btn-primary btn-block btn-lg" ng-disabled="formVerifyOTP.$invalid">
                                        <i class="fa fa-check"></i>
                                        Verify
                                    </button>
                                </div>
                            </div>

                            <p class="text-muted">
                                <label>Having trouble verifying OTP? 
                                    <a href="#/contact">
                                        Contact us
                                    </a>
                                </label>
                            </p>
                        </form>
                    </div>
                </div>
            </div><!-- /.modal-content -->
        </div><!-- /.modal-dialog -->
    </div><!-- /.modal -->
</div>