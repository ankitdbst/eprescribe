<navbar type="header">
  <li><a href="#"><span class="glyphicon glyphicon-minus"></span></a></li>
  <!--<li><a href="#"><span class="glyphicon glyphicon-resize-small"></span></a></li>-->
  <li><a ng-click="closeThisDialog()"><span class="glyphicon glyphicon-remove"></span></a></li>
</navbar>
<div cg-busy="myPromise"></div>
<div class="create-prescriptions" ng-init="canvasEditable=false;touched=false;">
  <form name="formPrescription" class="panel-group" novalidate ng-class="{'canvas-editable': canvasEditable}">
    <div class="diagnosis">
      <h4>Diagnosis & Complaints</h4>
      <div ng-class="{'bg-diagnosis': !touched}">
        <img class="img-diagnosis img-thumbnail" src="" ng-click="canvasEditable=true;touched=true;" uib-tooltip="Click to edit"/>
      </div>
    </div>
    <div pw-canvas options="{height: 620, color: '#000', undo: false, lineWidth: 1}" canvas-resize class="rx-canvas"></div>

    <!--<div class="panel panel-primary">-->
      <!--<div class="panel-heading">Complaint & Diagnosis</div>-->
      <!--<div class="panel-body">-->
        <!--<div pw-canvas options="{color: '#000'}" canvas-resize></div>-->
        <!--&lt;!&ndash;<div class="form-group"  ng-class="{ 'has-error': formPrescription.patientComplaint.$touched && formPrescription.patientComplaint.$invalid }">&ndash;&gt;-->
          <!--&lt;!&ndash;<label for="patientComplaint">Patient Complaint*</label>&ndash;&gt;-->
          <!--&lt;!&ndash;<textarea class="form-control" name="patientComplaint" ng-model="prescription.patientComplaint" id="patientComplaint" rows="3" placeholder="Patient Complaint" required></textarea>&ndash;&gt;-->
          <!--&lt;!&ndash;<div class="help-block" ng-messages="formPrescription.patientComplaint.$error" ng-if="formPrescription.patientComplaint.$touched">&ndash;&gt;-->
              <!--&lt;!&ndash;<p ng-message="required">Patient Complaint is mandatory!</p>&ndash;&gt;-->
          <!--&lt;!&ndash;</div>&ndash;&gt;-->
        <!--&lt;!&ndash;</div>&ndash;&gt;-->
        <!--&lt;!&ndash;<div class="form-group" ng-class="{ 'has-error': formPrescription.diagnosis.$touched && formPrescription.diagnosis.$invalid }">&ndash;&gt;-->
          <!--&lt;!&ndash;<label for="diagnosis">Diagnosis*</label>&ndash;&gt;-->
          <!--&lt;!&ndash;<textarea class="form-control" name="diagnosis" ng-model="prescription.diagnosis" id="diagnosis" rows="4" placeholder="Diagnosis" required></textarea>&ndash;&gt;-->
          <!--&lt;!&ndash;<div class="help-block" ng-messages="formPrescription.diagnosis.$error" ng-if="formPrescription.diagnosis.$touched">&ndash;&gt;-->
              <!--&lt;!&ndash;<p ng-message="required">Patient Diagnosis is mandatory!</p>&ndash;&gt;-->
          <!--&lt;!&ndash;</div>&ndash;&gt;-->
        <!--&lt;!&ndash;</div>&ndash;&gt;-->
      <!--</div>-->
    <!--</div>-->
    <br>
    <div class="medicines-list">
      <h4>Rx</h4>
      <hr>
      <medicines editable="true"></medicines>
    </div>
    <!--<div class="panel panel-primary">-->
      <!--<div class="panel-heading">Medications</div>-->
      <!--<div class="panel-body">-->
        <!--<div class="form-group">-->
          <!--<div class="row">-->
            <!--<div class="col-md-4">-->
              <!--<a ui-sref="PrescriptionNewOrEdit.UpsertMedicine"><strong>+ Add Medicine</strong></a>-->
            <!--</div>-->
          <!--</div>-->
          <!--<hr>-->
          <!--<medicines editable="true"></medicines>-->
        <!--</div>-->
      <!--</div>-->
    <!--</div>-->
    <!--<div class="panel panel-info">-->
      <!--<div class="panel-heading">Other</div>-->
      <!--<div class="panel-body">-->
        <!--<h4>Other</h4>-->
        <!--<hr>-->
    <div class="row prescription-other">
    <div class="form-group col-md-2">
          <label for="validUpto">Valid Upto</label>
          <datetimepicker ng-model="prescription.validUpto" id="validUpto" placeholder="Prescription Valid Upto"></datetimepicker>
        </div>
        <div class="form-group col-md-2">
          <label for="nextVisit">Next Visit</label>
          <datetimepicker ng-model="prescription.nextVisit.date" id="nextVisit" placeholder="Schedule Next Visit"></datetimepicker>
        </div>
      </div>
      <!--</div>-->
    <!--</div>-->
    <!--<hr>-->
    <!--<div class="form-group">-->
        <!--<button type="button" class="btn btn-primary" ng-click="save()" ng-disabled="formPrescription.$invalid">Save</button>-->
        <!--<button type="button" class="btn btn-primary" ng-click="savePrint()" ng-disabled="formPrescription.$invalid">Save & Print</button>-->
        <!--<button type="button" class="btn btn-default" ng-click="close()">Cancel</button>-->
    <!--</div>-->
  </form>
</div>
<!--<div class="col-md-6 add-new-medicine" ui-view></div>-->
<navbar type="footer">
  <!--<li class="active"><a href="#">Link <span class="sr-only">(current)</span></a></li>-->
  <li class="navbar-li-custom">
    <div>
        <button type="button" class="btn btn-primary" ng-if="canvasEditable" ng-click="closeCanvas()" > <span class="glyphicon glyphicon-ok"> </span></button>
        <button type="button" class="btn btn-primary" ng-if="!canvasEditable" ng-click="save()" ng-disabled="formPrescription.$invalid">Save</button>
        <button type="button" class="btn btn-success" ng-if="!canvasEditable" ng-click="savePrint()" ng-disabled="formPrescription.$invalid"><span class="glyphicon glyphicon-print"></span> Save & Print</button>
    </div>
    <!--<button type="button" class="btn btn-primary" ng-click="save()" >Save</button></li>-->
  <!--<li class="navbar-li-button"><button type="button" class="btn btn-primary" ng-click="savePrint()" ng-disabled="formPrescription.$invalid">Save & Print</button></li>-->
  <!--<li><a href="#" class="btn btn-primary" ng-click="save()" ng-disabled="formPrescription.$invalid">Save</a></li>-->
  <li ng-if="!canvasEditable"><a ng-click="open()"><span class="glyphicon glyphicon-plus"></span> Add Medicine</a></li>
  <!--<li><a href="#">Validity</a></li>-->
  <!--<li>-->
    <!--<button type="button" class="btn btn-primary" ng-click="save()" ng-disabled="formPrescription.$invalid">Save</button>-->
  <!--</li>-->
  <!--<li>  <button type="button" class="btn btn-primary" ng-click="savePrint()" ng-disabled="formPrescription.$invalid">Save & Print</button>-->
<!--</li>-->

</navbar>
